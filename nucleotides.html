<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <style>
        </style>
    </head>
    <body>
        <p id="adenine"></p>
        <p id="cytosine"></p>
        <p id="guanine"></p>
        <p id="thyamine"></p>
        <input type="text" name="nu-input" id="nu-input">
        <button type="submit" name="submit-btn" id="submit-btn">Submit</button>
        <script>
            //Initialize variables.
            let a = document.querySelector('#adenine');
            let c = document.querySelector('#cytosine');
            let g = document.querySelector('#guanine');
            let t = document.querySelector('#thyamine');

            let aCount = 0;
            let cCount = 0;
            let gCount = 0;
            let tCount = 0;

            a.innerHTML = aCount;
            c.innerHTML = cCount;
            g.innerHTML = gCount;
            t.innerHTML = tCount;

            //Nu is short for nucleotide.
            let nuInput = document.getElementById('nu-input');
            let nuBtn = document.getElementById('submit-btn');
            let nu = nuInput.value;

            //Regex that matches non 'acgt' characters and stores them in a result variable.
            let nuReg = /\W|_|[0-9]|[bdefhijklmnopqrsuvwxyz]/gi;
            let result = nu.match(nuReg);
            
            //Event listener on submit button that runs the calc function onclick.
            nuBtn.addEventListener('click', calc);

            function calc(e) {
                //Reset variables so that function can be run again without refreshing the page.
                nu = nuInput.value;
                result = nu.match(nuReg);

                //increment 'acgt' counters when a, c, g, or t is encountered in the input string.
                for (i = 0; i < nu.length; i++) {
                    if (nu[i] === "a") {
                        aCount++;
                    } else if (nu[i] === "c") {
                        cCount++;
                    } else if (nu[i] === "g") {
                        gCount++;
                    } else if (nu[i] === "t") {
                        tCount++;
                    }
                }

                //Redefine variables to dynamically update values.
                a.innerHTML = `Adenine: ${aCount}`;
                c.innerHTML = `Cytosine: ${cCount}`;
                g.innerHTML = `Guanine: ${gCount}`;
                t.innerHTML = `Thyamine: ${tCount}`;

                //Reset counters to prevent counters from increment on every button click.
                aCount = 0;
                cCount = 0;
                gCount = 0;
                tCount = 0;

                //If the regex matches a character and stores it in the result variable (result !== null), display a screen alert.
                if (result !== null) {
                    alert("Invalid character!");
                }
            }
        </script>
    </body>
</html>
